#{{ version }}
C***  DO NOT DELETE ABOVE LINE ***
C
C*******************************************************************************
C
C                  INTEGRATED WATER FLOW MODEL (IWFM)
C
C*******************************************************************************
C
C                 SMALL WATERSHED PARAMETERS DATA FILE
C                     Small Watershed Component
C                       *** Version {{ version }} ***
C
C             Generated by pyiwfm
C             {{ generation_time }}
C
C*******************************************************************************
C                       Output Data File Names
C
C----------------------------------------------------------------------------------------
C         VALUE                                      DESCRIPTION
C----------------------------------------------------------------------------------------
          {{ budget_file | pad_right(40) }} / SWBUDFL
          {{ final_results_file | pad_right(40) }} / FNSWFL
C*******************************************************************************
C                       Number of Small Watersheds
C
C----------------------------------------------------------------------------------------
     {{ n_watersheds }}                                / NSWShed
C*******************************************************************************
C                  Geospatial Data for Small Watersheds
C
C----------------------------------------------------------------------------------------
C   VALUE                       DESCRIPTION
C----------------------------------------------------------------------------------------
     {{ area_factor }}                        / FACTAROU
     {{ flow_factor }}                        / FACTLTOU
     {{ flow_time_unit | pad_right(22) }}/ UNITLTOU
C----------------------------------------------------------------------------------------
C   ID   AREA   DSTRMNOD  NGWNOD  GWNODID  MAXPERCRATE
C----------------------------------------------------------------------------------------
{% for ws in watersheds %}
    {{ ws.id }}  {{ ws.area_raw | fortran_float(12, 4) }}  {{ ws.dest_stream_node }}  {{ ws.n_gw_nodes }}{% if ws.gw_nodes %}  {{ ws.gw_nodes[0].gw_node_id }}  {{ ws.gw_nodes[0].perc_rate_raw | fortran_float(12, 4) }}{% endif %}

{% for gn in ws.gw_nodes[1:] %}
    {{ gn.gw_node_id }}  {{ gn.perc_rate_raw | fortran_float(12, 4) }}
{% endfor %}
{% endfor %}
C*******************************************************************************
C                  Root Zone Parameters for Small Watersheds
C
C----------------------------------------------------------------------------------------
C   VALUE                       DESCRIPTION
C----------------------------------------------------------------------------------------
     {{ rz_solver_tolerance }}                / RZTOLERANCE
     {{ rz_max_iterations }}                  / RZMAXITER
     {{ rz_length_factor }}                   / FACTLN
     {{ rz_cn_factor }}                       / FACTCN
     {{ rz_k_factor }}                        / FACTKU
     {{ rz_k_time_unit | pad_right(22) }}/ TUNITKU
C----------------------------------------------------------------------------------------
C   ID  ICOLPREC FACTPREC ICOLET  WP    FC    TP    LBD   RZDPTH  HYDCOND KUNM  CN
C----------------------------------------------------------------------------------------
{% for ws in watersheds %}
    {{ ws.id }}  {{ ws.precip_col }}  {{ ws.precip_factor | fortran_float(8, 4) }}  {{ ws.et_col }}  {{ ws.wilting_point | fortran_float(8, 4) }}  {{ ws.field_capacity | fortran_float(8, 4) }}  {{ ws.total_porosity | fortran_float(8, 4) }}  {{ ws.lambda_param | fortran_float(8, 4) }}  {{ ws.root_depth_raw | fortran_float(10, 4) }}  {{ ws.hydraulic_cond_raw | fortran_float(10, 4) }}  {{ ws.kunsat_method }}  {{ ws.curve_number_raw | fortran_float(8, 2) }}
{% endfor %}
C*******************************************************************************
C                  Aquifer Parameters for Small Watersheds
C
C----------------------------------------------------------------------------------------
C   VALUE                       DESCRIPTION
C----------------------------------------------------------------------------------------
     {{ aq_gw_factor }}                       / FACTGW
     {{ aq_time_factor }}                     / FACTTM
     {{ aq_time_unit | pad_right(22) }}/ TUNITTM
C----------------------------------------------------------------------------------------
C   ID  GWTHRESHOLD  MAXGWSTOR  SFCOEFF  BFCOEFF
C----------------------------------------------------------------------------------------
{% for ws in watersheds %}
    {{ ws.id }}  {{ ws.gw_threshold_raw | fortran_float(12, 4) }}  {{ ws.max_gw_storage_raw | fortran_float(12, 4) }}  {{ ws.surface_flow_coeff_raw | fortran_float(12, 6) }}  {{ ws.baseflow_coeff_raw | fortran_float(12, 6) }}
{% endfor %}
C*******************************************************************************
C                  Initial Conditions for Small Watersheds
C
C----------------------------------------------------------------------------------------
C   VALUE                       DESCRIPTION
C----------------------------------------------------------------------------------------
     {{ ic_factor }}                        / FACTIC
C----------------------------------------------------------------------------------------
C   ID  SOILMOIST  GWSTOR
C----------------------------------------------------------------------------------------
{% for ws in watersheds %}
    {{ ws.id }}  {{ ws.initial_soil_moisture | fortran_float(12, 6) }}  {{ ws.initial_gw_storage_raw | fortran_float(12, 6) }}
{% endfor %}
